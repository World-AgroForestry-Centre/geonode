<!DOCTYPE html>
<html>
    <head>
        <title>{{ document.title }}</title>
        <link rel="stylesheet" href="{{ STATIC_URL }}js/recline/vendor/bootstrap/2.3.2/css/bootstrap.css" />
        
        <!--<link rel="stylesheet" href="{{ STATIC_URL }}css/recline/css/grid.css" />-->
        <link rel="stylesheet" href="{{ STATIC_URL }}css/recline/css/slickgrid.css" />
        <link rel="stylesheet" href="{{ STATIC_URL }}js/recline/vendor/slickgrid/2.0.1/slick.grid.css" />
        
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/jquery/1.7.1/jquery.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/underscore/1.4.4/underscore.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/backbone/1.0.0/backbone.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/mustache/0.5.0-dev/mustache.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/bootstrap/2.3.2/bootstrap.js"></script>
        
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/slickgrid/2.0.1/jquery-ui-1.8.16.custom.min.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/slickgrid/2.0.1/jquery.event.drag-2.2.js"></script>
        <!--<script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/slickgrid/2.0.1/jquery.event.drag-2.0.min.js"></script>-->
        <!--<script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/slickgrid/2.0.1/slick.core.js"></script>-->
        <!--<script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/slickgrid/2.0.1/slick.grid.js"></script>-->
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/slickgrid/2.0.1/slick.grid.min.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/slickgrid/2.0.1/plugins/slick.rowselectionmodel.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/vendor/slickgrid/2.0.1/plugins/slick.rowmovemanager.js"></script>
        
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/dist/csv.js"></script>
        <script type="text/javascript" src="{{ STATIC_URL }}js/recline/dist/recline.js"></script>
        
        <script type="text/javascript">
        $(document).ready(function() {
            /*
            var data = [
                {id: 0, date: '2011-01-01', x: 1, y: 2, z: 3, country: 'DE', geo: {lat:52.56, lon:13.40} },
                {id: 1, date: '2011-02-02', x: 2, y: 4, z: 24, country: 'UK', geo: {lat:54.97, lon:-1.60}},
                {id: 2, date: '2011-03-03', x: 3, y: 6, z: 9, country: 'US', geo: {lat:40.00, lon:-75.5}},
                {id: 3, date: '2011-04-04', x: 4, y: 8, z: 6, country: 'UK', geo: {lat:57.27, lon:-6.20}},
                {id: 4, date: '2011-05-04', x: 5, y: 10, z: 15, country: 'UK', geo: {lat:51.58, lon:0}},
                {id: 5, date: '2011-06-02', x: 6, y: 12, z: 18, country: 'DE', geo: {lat:51.04, lon:7.9}}
            ];
            */
            
            var dataset = new recline.Model.Dataset({
                //records: data
                url: 'http://{{ request.get_host }}{{ document.doc_file.url }}',
                // backend: 'dataproxy', // supports csv and xls, website must be public accessible
                backend: 'csv', // csv only
                // delimiter: ',',
                // quotechar: '"',
                // encoding: 'utf8'
            });
            
            dataset.fetch();
            
            var $el = $('#grid');
            
            var grid = new recline.View.SlickGrid({
              model: dataset,
              el: $el
            });
            
            grid.visible = true;
            grid.render();
        });
        </script>
    </head>
    <body>
    <div id="grid" style="min-height:300px;"></div>
    <!--<a href="{{ document.doc_file.url }}">View</a>-->
    </body>
</html>